{\rtf1\ansi\deff3\adeflang1025
{\fonttbl{\f0\froman\fprq2\fcharset0 Times New Roman;}{\f1\froman\fprq2\fcharset2 Symbol;}{\f2\fswiss\fprq2\fcharset0 Arial;}{\f3\froman\fprq2\fcharset128 Times New Roman;}{\f4\fswiss\fprq2\fcharset128 Arial;}{\f5\froman\fprq0\fcharset128 Times New Roman;}{\f6\fnil\fprq2\fcharset128 WenQuanYi Zen Hei;}{\f7\fnil\fprq2\fcharset128 FreeSans;}{\f8\fswiss\fprq0\fcharset128 FreeSans;}}
{\colortbl;\red0\green0\blue0;\red128\green128\blue128;}
{\stylesheet{\s0\snext0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033 Normal;}
{\s15\sbasedon0\snext16\sb240\sa120\keepn\hich\af6\dbch\af7\afs28\loch\f4\fs28 Heading;}
{\s16\sbasedon0\snext16\sb0\sa120 Text body;}
{\s17\sbasedon16\snext17\sb0\sa120\dbch\af8 List;}
{\s18\sbasedon0\snext18\sb120\sa120\noline\i\dbch\af8\afs24\ai\fs24 Caption;}
{\s19\sbasedon0\snext19\noline\dbch\af8 Index;}
}{\info{\author fred brooks}{\creatim\yr2012\mo5\dy26\hr18\min44}{\author fred brooks}{\revtim\yr2012\mo5\dy26\hr18\min47}{\printim\yr0\mo0\dy0\hr0\min0}{\comment LibreOffice}{\vern3500}}\deftab709

{\*\pgdsctbl
{\pgdsc0\pgdscuse195\pgwsxn12240\pghsxn15840\marglsxn1134\margrsxn1134\margtsxn1134\margbsxn1134\pgdscnxt0 Default;}}
\formshade\paperh15840\paperw12240\margl1134\margr1134\margt1134\margb1134\sectd\sbknone\sectunlocked1\pgndec\pgwsxn12240\pghsxn15840\marglsxn1134\margrsxn1134\margtsxn1134\margbsxn1134\ftnbj\ftnstart1\ftnrstcont\ftnnar\aenddoc\aftnrstcont\aftnstart1\aftnnrlc
\pgndec\pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma\tab config OSC = HSPLL}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma config WDT = ON, WDTPS = 1024}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma config BOREN = OFF}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma config STVREN = ON}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma config LVP=OFF}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#define\tab __MANDM_C\tab \tab \tab //\tab This is the main program}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* standard program units:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* Voltage  in (unsigned long/unsigned int) millivolts,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* Current in (long) tenths of amps}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* Watts Power in (unsigned long)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* Ah capacity (unsigned long) milliAh when in 32 bit variables/ (int) tenths of Ah when in 16 bit variables for net in/out Ah balance usage h[0],h[6]}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* R: structure, real values from measurements}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* C: structure, calculated values from measurements or programs}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* B: structure}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* USART2 \tab \tab is the host comm port 38400}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* Timer0\tab \tab 1 second clock}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* TImer1\tab \tab Not used}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* Timer2\tab \tab Not used}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* Timer3\tab \tab work thread , background I/O clock ~20HZ}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* TImer4\tab \tab PWM Period clock}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* 0..11 analog channels are active}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* PORTA\tab \tab analog inputs}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc0\tab systemvoltage\tab PIC Controller supply voltage}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc1\tab motorvoltage}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc2\tab current_x}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc3\tab current_y}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc4\tab current_z}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* PORTB\tab \tab HID Qencoder and switch inputs}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* PORTC\tab \tab HID leds}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* PORTD\tab \tab switch input}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* PORTE\tab \tab motor control relays}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* PORTF\tab \tab analog inputs}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc5\tab rawp1 X pot}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc6 rawp2 Y pot}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc7 rawp3 Z pot}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc8 thermo_batt\tab thermistor input 10K at 25C RF4}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc10 Ground REF\tab zero adc charge cap}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* adc_cal[11-14]\tab current sensors zero offset stored in eeprom 10=a50, 11=a50c, 12=a300, 14=future}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* cal table with checksum as last data item in adc_cal[]}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* PORTH0\tab \tab run flasher led onboard, 4x20 LCD status panel}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* PORTJ\tab \tab alarm and diag leds}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* PORTG\tab \tab }
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* frederick.brooks@microchip.com Copyright 2012}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* Microchip Gresham, Oregon}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*/}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* This application is designed for use with the}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* ET-BASE PIC8722 board, 4*20 LCD display}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* RS-232 host commands 38400baud 8n1}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* A\tab \tab send controller/battery status}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* B\tab \tab select battery for modify commands, used with S M L}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* C\tab \tab (NOT DONE YET)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* D \tab \tab Calibrate ADC voltages.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* E\tab \tab When in FAIL-SAVE mode switch to second battery}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* F\tab \tab Force current (none critical) charge routine to exit}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* H\tab \tab Dump all SD card data records to comm1 port}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* h\tab \tab Dump last 1000 SD card data records to comm2 port}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* K\tab \tab lockup controller causing WDT timer to reboot}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* S M L\tab modify selected battery type, example: ZBBMZ would set battery 2 to M type.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* T\tab \tab Tweak setting for active battery on charger}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* V\tab \tab turn external charger on}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* v\tab \tab turn external charger off}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* Z\tab \tab reset command parser}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* ?\tab \tab Send help menu to rs-232 terminal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* $\tab \tab fuse blown error. (NOT DONE YET)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* ^\tab \tab reset current sensor zero calibration}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* !\tab \tab hold program in present date}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* *\tab \tab set battery on CC to 100% SOC}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* #\tab \tab display run data on terminal rs-232 port}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* @\tab \tab display model data on terminal rs-232 port}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* P\tab \tab SIMULATE PV power on}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* p\tab \tab SIMULATE PV power off}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* O\tab \tab SIMULATE PWM 33%}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
* o\tab \tab SIMULATE PWM off}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*/}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//\tab ***}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  0.1             mandm software.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//\tab ***}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  dipswitch settings PORTD}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  1       on=reset battery charging counters and flags}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  2       on=2 batteries/off=4 batteries to monitor}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  3       on=Force inverter to primary battery in software}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  4       on=turn on external charge power when needed}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  5       on=Learn BATTERY MODEL DATA from real data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  6       on=FAIL-SAFE MODE, just connect C40 to PRIMARY BATTERY}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  7       on=disenable DIVERSION control of excess power when battery on charger is full}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  8       on=Force DIVERSION on}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//\tab ***}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include <p18cxxx.h>}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include <delays.h>}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include <string.h>}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include <stdlib.h>}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include <stdio.h>}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include <math.h>}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "mandm_defs.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "xlcd.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "config.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "mandm.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "crit.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "mandm_msg.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "hwconf.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "power.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "model.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "mandm_vector.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "mandm_shared.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "daq.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void clr_lcd(void);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char *ahfp(long, char *);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char *voltfp(unsigned long, char *);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char *voltfps(unsigned long, char *);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char *voltfpi(long, char *);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void MputsXLCD(char *);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void fail_safe(void);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char *hms(unsigned long);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char *hm(unsigned long);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
float lp_filter(float, int, int);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void putc2(unsigned char c);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void set_tweak(void); // tweak run time parameters}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void hold_process(void); // hold monitor progrsm}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void system_data(void); // send system variables to rs-232 terminal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void system_help(void); // send system help menu to rs-232 terminal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void display_system(void); // send adc values to terminal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned char check_alarm(unsigned char, const rom char*);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
long ABSL(long);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
int ABSI(int);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void LCD_VC_puts(unsigned char, unsigned char, unsigned char);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void wdttime(unsigned long);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
BYTE checktime(unsigned long, BYTE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void wdtdelay(unsigned long);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void update_hist(void);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void term_time(void);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
// section just for the large arrays idata}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma\tab idata\tab bigdata}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
far char bootstr2[MESG_W + 1] = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned char csd[SD_18] = \{0\}, cid[SD_18] = \{0\}, HCRIT[CRIT_8] = \{0\}, LCRIT[CRIT_8] = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char p1[C_TEMP16] = \{0\}, p2[C_TEMP16] = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char termstr[32] = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
far char f1[C_TEMP7] = \{0\}, f2[C_TEMP7] = \{0\}, f3[C_TEMP7] = \{0\}, f4[C_TEMP7] = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char p3[C_TEMP16] = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile struct almbuffertype alarm_buffer[MAXALM] = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
float smooth[LPCHANC] = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
struct lcdb ds[VS_SLOTS] = "mandm", ms[VS_SLOTS] = "mandm"; //  LCD/MENU display strings, name}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
far char hms_string[16] = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma idata gpr13}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
int a50 = 0, a300 = 0, a50c = 0, a10_x = 0, a10_y = 0, a10_z = 0, worktick = 0, cef = 0, cef_calc = 0, cef_save = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile unsigned char BATTNUM = MAXBATT, BCHECK = TRUE, TIMERFLAG = FALSE, PRIPOWEROK = TRUE, FORCEOUT = FALSE, workerflag = FALSE, critc_level = 0, KEYNUM = 0, b_read = 0,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab CHARGEROVERRIDE = FALSE, FAILSAFE = FALSE, MORNING_HELP = FALSE, SYSTEM_STABLE = FALSE, HOLD_PROC = FALSE, C2RAW = 0, glitch_count = 0, POWER_UNSTABLE = FALSE, SET_BATT = FALSE,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab fast_ticks = FT20, real_ticks = 0, BLANK_LCD = FALSE, XON_XOFF = FALSE, STATIC_SOC = TRUE, DISPLAY_MODE = FALSE, D_UPDATE = TRUE, GLITCH_CHECK = TRUE, FORCEDAY = FALSE, COOLING = FALSE,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab UPDATE_EEP = FALSE, RESET_ZEROS = FALSE, SYNC_SOC = FALSE, SYNCSOC = FALSE, SYS_DATA = FALSE, MOD_DATA = FALSE, SYS_HELP = FALSE, SET_ADC = FALSE, SET_CEF = TRUE,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab WDT_TO = FALSE, EEP_ER = FALSE, PERKOSW_r = FALSE, TWEAK = FALSE, cdelay = 0, SIM_MODE = RUNSIM, SIM_FLAG = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile struct almtype alarm_codes = \{FALSE, 0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile unsigned char almctr = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
union Timers hirez_0 = 0, hirez_1 = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile unsigned long display_count = 0,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab highint_count = 0, timerint_count = 0, c1rx_int = 0, c1tx_int = 0, c2_int = 0, lowint_count = 0, status_count = 0, cctimer = 0,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab pwm4int_count = 0, buttonint_count = 0, dayclockup = 0, dayclockdown = 0, worker_count = 0, clock50 = 0, critc_count = 0, d_on = 0, d_off = 0,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab c_on = 0, c_off = 0, mbmcdata_count = 0, eeprom_count = 0, adc_count = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma idata gpr3}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile BYTE HOST_BUSY = FALSE, HOST_COMM = FALSE, move_mode = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile struct buttontype button = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char sign = ' ';}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
float lp_speed = 0.0, lp_x = 0.0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma idata gpr15}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
struct R_data R = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
struct C_data C = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
const rom char *build_date = __DATE__, *build_time = __TIME__;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile unsigned int solarup_delay = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile unsigned long utctime = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile struct knobtype knob1, knob2;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile struct motortype motordata[4], *motor_ptr;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile union \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned long netdword;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
BYTE netdbyte[4];}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} netd;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile long time_skew_base = 0, time_skew = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile unsigned char dsi = 0, msi = 0; //      LCD display string index to console 0}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma idata gpr4}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
float t1 = 0.0, t2 = 0.0, t3 = 0.0, t4 = 0.0, t5 = 0.0, t6 = 0.0, t7 = 0.0, t_time = 0.0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma idata gpr0}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile int tx_tmp = 0, rx_tmp = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile DWORD mbmc_cmd_reply = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
float voltfrak = 0.0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
float ahfrak = 0.0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile long ahi_tmp = 0, aho_tmp = 0, ahop_tmp = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
BYTE model_update = MODEL_UPDATE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned long Vin = 0, rawp1 = 0, rawp2 = 0, rawp3 = 0, chrg_v = 0, vbatol_t = 0, solar_t = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile unsigned char idleflag = FALSE,knob_to_pot=XAXIS;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
long iw = 0, ip = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma idata}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile unsigned char UTC_flag = 0, UTC_ok = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile struct ccstype CCS = \{0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile unsigned int hirez_count[7] = \{0, 0, 0, 0, 0, 0, 0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* ADC voltage/current default calibration values , adjusted with D command */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
// adc_cal[11-14]\tab \tab \tab \tab current sensors zero offset stored in eeprom 11=x, 12=y, 13=z, 14=future}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned char adc_cal[] = \{127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 0\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned char CRITC = 0, LCD_OK = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile enum ccmode_t \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
IDLE_M, BULK_M, FLOAT_M, TEST_M, ABSORP_M, FLOAT_W}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} CCMODE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile enum mbmode_t \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
IDLE_M, CHARGE_M, FLOAT_M, TEST_M}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} BMMODE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile enum answer_t \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
WAIT_M, YES_M, NO_M}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} YNKEY;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* ISR vectors */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma code tick_interrupt = HIGH_VECTOR}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void tick_int(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
_asm goto tick_handler _endasm // high}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma code}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma code work_interrupt = LOW_VECTOR}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void work_int(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
_asm goto work_handler _endasm // low}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma code}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void LCD_VC_puts(unsigned char console, unsigned char line, unsigned char COPY) // VCx,DSx, [TRUE..FALSE\} copy data from bootstr2 string}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{ // into the LCD display buffer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned char ib = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (!LCD_OK) return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (COPY) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ib = console + line; // set to string index to store data in LCD message array ds[x].b}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab strncpypgm2ram(ds[ib].b, "                        ", LCD_W); // write 20 space chars}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab strncpy(ds[ib].b, bootstr2, LCD_W); // move data from static buffer in lcd message array}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ds[ib].b[LCD_W] = NULL0; // make sure we have a string terminator}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
switch (line) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
case DS0:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SetDDRamAddr(LL1); // move to  line}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
case DS1:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SetDDRamAddr(LL2); // move to  line}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
case DS2:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SetDDRamAddr(LL3); // move to  line}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
case DS3:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SetDDRamAddr(LL4); // move to  line}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
default:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SetDDRamAddr(LL1); // move to  line 1 of out of range}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ib = dsi + line; // set to string index to display on LCD, dsi is the current VC being displayed}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (!D_UPDATE) return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (BLANK_LCD) clr_lcd();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (BusyXLCD());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putsXLCD(ds[ib].b);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (BusyXLCD());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void update_hist(void) // compute the runtime data from current data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (!SYSTEM_STABLE) return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
check_alarm(CCS.boc, " update_hist1 ");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
// check FLAGS from the tick ISR and run subroutine if needed}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (RESET_ZEROS) \{ // sero the current sensors}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab zero_amploc();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab RESET_ZEROS = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (SET_ADC) \{ // Set gains for ADC channel calibration}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab set_adc_gain();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SET_ADC = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (TWEAK) \{ // Adjust runtime data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab set_tweak();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TWEAK = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (HOLD_PROC) \{ // Hold processing, mainly used during a battery EQ cycle.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hold_process();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab HOLD_PROC = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (SYS_DATA) \{ // display System data on rs-232 port}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab system_data();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SYS_DATA = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (SYS_HELP) \{ // Command Help message}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab system_help();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SYS_HELP = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void wdtdelay(unsigned long delay)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned long int dcount;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (dcount = 0; dcount <= delay; dcount++) \{ // delay a bit}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Nop();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ClrWdt(); // reset the WDT timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void wdttime(unsigned long delay) // delay = ~ .1 seconds}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned long dcount, timetemp, clocks_hz;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
clocks_hz = delay * 2; // number of low int clock ticks per second is about 20}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
dcount = clock50;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
clocks_hz += dcount;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
do \{ // wait until delay}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab timetemp = clock50;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ClrWdt();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(dsi, DS0, NO);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(dsi, DS1, NO);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(dsi, DS2, NO);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(dsi, DS3, NO);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab idle_loop();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} while (timetemp < clocks_hz);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
BYTE checktime(unsigned long delay, BYTE set) // delay = ~ .05 seconds}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned long dcount, timetemp, clocks_hz;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (set) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab clocks_hz = delay; // number of low int clock ticks per second is about 20}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab dcount = clock50;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab clocks_hz += dcount;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
timetemp = clock50;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (timetemp < clocks_hz) return FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void DelayFor18TCY(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned char n;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (n = 0; n < 24; n++) Nop(); // works at 200}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//------------------------------------------}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void DelayPORXLCD(void) // works with 15}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10KTCYx(15); // Delay of 15ms}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//------------------------------------------}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void DelayXLCD(void) // works with 5}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10KTCYx(5); // Delay of 5ms}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void putc2(unsigned char c)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (Busy2USART()) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}; // wait until the usart is clear}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putc2USART(c);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void start_delay(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
wdttime(BATRUNF); // wait for .5 seconds.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void clr_lcd()}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (!D_UPDATE) return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (BusyXLCD());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/*\tab lp_filters}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab 0\tab }
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab 1\tab }
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab 2\tab }
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab 3\tab current}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab 4\tab currentin}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab 5\tab currentcharger}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab 6\tab }
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab 7\tab }
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab 8\tab }
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*\tab 9\tab }
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*/}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
float lp_filter(float new, int bn, int slow) // low pass filter, slow rate of change for new, LPCHANC channels, slow/fast select (1) to zero channel}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
// smooth,lp_speed,lp_x is a udata global array to save stack space}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (bn > LPCHANC)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return new;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (slow) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab lp_speed = 0.06;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab lp_speed = 0.125;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
lp_x = ((smooth[bn]*100.0) + (((new * 100.0)-(smooth[bn]*100.0)) * lp_speed)) / 100.0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
smooth[bn] = lp_x;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (slow == (-1)) \{ // reset and return zero}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab lp_x = 0.0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab smooth[bn] = 0.0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return lp_x;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void term_time(void) // sent internal time to rs-232 terminal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ClrWdt(); // reset the WDT timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(termstr, " CT-%s", hms(timerint_count));}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(termstr);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(termstr, " CU-%s", hms(dayclockup));}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(termstr);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(termstr, " CD-%s", hms(dayclockdown));}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(termstr);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void hold_process(void) // hold the monitor in the current status until released.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(hold0);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
YNKEY = WAIT_M;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (YNKEY == WAIT_M) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab wdtdelay(10);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ADC_read();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab idle_loop();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (YNKEY == NO_M) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(hold1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(hold1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void system_data(void) // display system data on terminal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ClrWdt(); // reset the WDT timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2, "\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (SIM_MODE) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(SIMULA);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(" FW ");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
strcpypgm2ram(bootstr2, build_time);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(" ");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
strcpypgm2ram(bootstr2, build_date);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
strcpypgm2ram(bootstr2, MANDM_VERSION);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     "\\r\\n Power status 1=OK %u, Config DIPSW %u%u%u%u%u%u%u%u, Temp Sensor %lu,Temp Comp %i\\r\\n Highint %lu, Lowint %lu, Timerint %lu, Workerint %lu, \\r\\n Com1rx int %lu, Com1tx int %lu, Com2int %lu, Bint %lu, PWMint %lu, Eint %lu, Aint %lu, Lowclocks %lu, Lowruns/S %lu,\\r\\n",}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     PRIPOWEROK, DIPSW1, DIPSW2, DIPSW3, DIPSW4, DIPSW5, DIPSW6, DIPSW7, DIPSW8, R.thermo_batt, C.temp_drate,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     highint_count, lowint_count, timerint_count, worker_count, c1rx_int, c1tx_int, c2_int,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     buttonint_count, pwm4int_count, eeprom_count, adc_count, clock50, clock50 / timerint_count);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ClrWdt(); // reset the WDT timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void system_help(void) // display system help on terminal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(keycmds0);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(keycmds1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void display_system(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2, "\\n\\r 0: %u,%lu Controller voltage.", adc_cal[0], R.systemvoltage);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//    sprintf(bootstr2, "\\n\\r 1: %u,%lu PV Charge Controller output voltage.", adc_cal[1], R.ccvoltage);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//    sprintf(bootstr2, "\\n\\r 2: %u,%li PV input current. Raw ADC %i", adc_cal[2], R.currentin, a50);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//    sprintf(bootstr2, "\\n\\r 3: %u,%lu PV input voltage.", adc_cal[3], R.inputvoltage);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//    sprintf(bootstr2, "\\n\\r 4: %u,%lu Battery 1 voltage.", adc_cal[4], R.primarypower[B1]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//    sprintf(bootstr2, "\\n\\r 5: %u,%li Inverter current. Raw ADC %i", adc_cal[5], R.current, a300);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//    sprintf(bootstr2, "\\n\\r 6: %u,%lu Battery 2 voltage.", adc_cal[6], R.primarypower[B2]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//\tab sprintf(bootstr2, "\\n\\r 7: %u,%lu Not Used.", adc_cal[7], 0);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//    sprintf(bootstr2, "\\n\\r 8: %u,%li Mains charger current. Raw ADC %i", adc_cal[8], R.currentcharger, a50c);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void set_tweak(void) // modify active charge parameters}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
int t_value, t_boc, t_more = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
long t_temp, t_tempo;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned long t_keytime, t_keytime_next;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned char t_index, t_prev = 0, t_fast = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2, "\\r\\n Tweaking Battery %i.\\r\\n", t_boc);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
C2RAW = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
YNKEY = WAIT_M;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
KEYNUM = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(tweak0);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while ((YNKEY == WAIT_M) && (KEYNUM == NULL0)) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab idle_loop();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (YNKEY != WAIT_M) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(tweak2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
t_index = (unsigned char) KEYNUM - (unsigned char) 0x30; // convert to binary number}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (t_index > MAX_TWEAK_CMD) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(tweak2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
YNKEY = WAIT_M;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
t_value = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
t_keytime_next = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
t_prev = 0xff;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (YNKEY == WAIT_M) \{ // display current status of parameter selected}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab switch (t_index) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case 1:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //\tab     t_tempo = hist[t_boc].ahir;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, tweak_t1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case 2:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //\tab     t_tempo = hist[t_boc].ahi;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, tweak_t2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case 3:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //\tab     t_tempo = hist[t_boc].aho;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, tweak_t3);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case 4:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //\tab     t_tempo = hist[t_boc].ahop;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, tweak_t4);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab default:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     t_tempo = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, tweak_tw);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(bootstr2, " Selected parameter #%u for adjustment on Battery %i. %s = %li\\r\\n", t_index, t_boc, bootstr2, t_tempo);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if ((t_keytime_next < 3)) \{ // 10 fast key presses switches to high value mode}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (C2RAW == t_prev) t_more++;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (t_more > 9) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab t_fast = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab putrs2USART(tweak5);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     t_fast = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     t_more = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     putrs2USART(tweak3);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab YNKEY = WAIT_M;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab C2RAW = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab t_keytime = timerint_count; // waiting for keypress start time}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (C2RAW == NULL0) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     idle_loop();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab t_keytime_next = timerint_count - t_keytime; // time it took to press key (t_keytime_next-t_keytime)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (YNKEY == NO_M) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     putrs2USART(tweak2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if ((C2RAW == 'Q') || (C2RAW == 'q')) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     putrs2USART(tweak2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (t_fast) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (C2RAW == 'M') t_value += 1000;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (C2RAW == 'L') t_value += -1000;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (C2RAW == 'm') t_value += 50;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (C2RAW == 'l') t_value += -50;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (C2RAW == 'M') t_value += 100;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (C2RAW == 'L') t_value += -100;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (C2RAW == 'm') t_value += 5;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (C2RAW == 'l') t_value += -5;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab t_prev = C2RAW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab switch (t_index) \{ // make temp value with updates}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case 1:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //\tab     t_temp = hist[t_boc].ahir + t_value;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case 2:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //\tab     t_temp = hist[t_boc].ahi + t_value;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case 3:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //\tab     t_temp = hist[t_boc].aho + t_value;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case 4:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //\tab     t_temp = hist[t_boc].ahop + t_value;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab default:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     t_temp = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(bootstr2, " Adjustment value %i, Parameter %s will be %li when saved.\\r\\n", t_value, bootstr2, t_temp);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(tweak4);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
switch (t_index) \{ // save updated value}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
case 1:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab //\tab hist[t_boc].ahir += t_value;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
case 2:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab //\tab hist[t_boc].ahi += t_value;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
case 3:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab //\tab hist[t_boc].aho += t_value;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
case 4:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab //\tab hist[t_boc].ahop += t_value;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
default:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
update_hist();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(tweak1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char* hms(unsigned long sec) // convert long (seconds) to time string}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned long h = 0, m = 0, s = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (sec > MAXSECONDS) sec = MAXSECONDS; // max time in seconds}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s = sec;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
h = (s / 3600);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s = s - (h * 3600);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
m = (s / 60);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s = s - (m * 60);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(hms_string, "%01lu:%02lu:%02lu", h, m, s);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return hms_string;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char* hm(unsigned long sec) // convert long (seconds) to time string}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned long h = 0, m = 0, s = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (sec > MAXSECONDS) sec = MAXSECONDS; // max time in seconds}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s = sec;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
h = (s / 3600);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s = s - (h * 3600);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
m = (s / 60);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s = s - (m * 60);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(hms_string, "%01lu:%02lu", h, m);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return hms_string;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
int ABSI(int i)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (i < 0)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return -i;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
else}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return i;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
long ABSL(long i)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (i < 0)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return -i;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
else}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return i;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char* voltfp(unsigned long millvolts, char *strprt) // convert unsigned long (millvolts) to voltage string}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
voltfrak = (float) millvolts / 1000;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
iw = (long) ((float) voltfrak);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ip = (long) ((float) voltfrak * 100) - iw * 100;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(strprt, "%d.%02d", (int) iw, (int) ip);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return strprt;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char* voltfps(unsigned long millvolts, char *strprt) // convert unsigned long (millvolts) to voltage string (short)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
voltfrak = (float) millvolts / 1000;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
iw = (long) ((float) voltfrak);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ip = (long) ((float) voltfrak * 10) - iw * 10;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(strprt, "%d.%01d", (int) iw, (int) ip);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return strprt;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char* voltfpi(long millvolts, char *strprt) // convert long (mill volts/watts/current) to string (integer with Kilo)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sign = ' '; // init sign}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (millvolts < 0)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sign = '-';}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
voltfrak = (float) millvolts / 1000;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
iw = (long) ((float) voltfrak);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ip = (long) ((float) voltfrak * 10) - iw * 10;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (ABSL(iw) < 1500) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(strprt, "%c%li", sign, ABSL(iw));}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab voltfrak = voltfrak / 1000;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab iw = (long) ((float) voltfrak);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ip = (long) ((float) voltfrak * 100) - iw * 100;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(strprt, "%c%li.%02lik", sign, ABSL(iw), ABSL(ip));}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return strprt;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
char* ahfp(long millah, char *strprt) // convert long (.1 of Ah) to Ah string}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sign = ' '; // init sign}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (millah < 0)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sign = '-';}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ahfrak = (float) millah / 10;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
iw = (long) ((float) ahfrak);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ip = (long) ((float) ahfrak * 10) - iw * 10;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(strprt, "%c%d.%01d", sign, ABSI(iw), ABSI(ip));}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return strprt;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void battalarm(int time, int battno, int mode)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ALARMOUT = R_ON;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//FIXME fix check_alarm}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/*  prints messages from the alarm array, need a rework as it's buggy */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned char check_alarm(unsigned char bn, const rom char* where) // print alarm codes to terminal or just the battery number with code 251}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{ // or set flag with code 253 or clear flag code 252}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned char i = 0, alm_num = 255; // if bn is 255 return state of alarm_codes.alm_flag flag TRUE/FALSE, 254 return current alarm code}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (bn > 250) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (bn == 255) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (alarm_codes.alm_flag) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab return TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab return FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (bn == 254) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     return alarm_buffer[almctr].alm_num;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (bn == 253) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     alarm_codes.alm_flag = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     return 253;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (bn == 252) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     alarm_codes.alm_flag = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     return 252;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (bn == 251) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     alarm_codes.alm_flag = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     return alarm_buffer[almctr].bn;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (alarm_codes.alm_flag == NULL0) \{ // nothing, lets go}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (almctr > NULL0) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab alm_num = alarm_buffer[--almctr].alm_num; // move down the alarm stack}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(where);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(bootstr2, " Q%u, Battery %u,", almctr, alarm_buffer[almctr].bn); // use the message battery number if set}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab i = 0; // set alarm index to zero}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode0); //0}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode1); //1}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode2); //2}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode3); //3}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode4); //4}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode5); //5}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode6); //6}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode7); //7}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode8); //8}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode9); //9}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(divert0); //10}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(divert1); //11}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(battbuffer0); //12}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode10); //13}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode11); //14}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode12); //15}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode13); //16}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode14); //17}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode15); //18}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode16); //19}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(charger2); //20}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(charger3); //21}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(charger4); //22}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (alm_num == i++) putrs2USART(almcode17); //23}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if ((alm_num > i) && (alm_num < 250)) \{ // if greater than last defined alarm code}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, " UNKNOWN Alarm code %u \\r\\n", alm_num);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (almctr == NULL0) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     alarm_codes.alm_flag = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab alarm_buffer[almctr].bn = 0; // set default battery number to zero}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void fail_safe(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
FAILSAFE = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (DIPSW6 == HIGH) \{ // wait until switch is clear}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ADC_read();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(bootstr2, "FS T%s,SV%lu             ", hms(timerint_count), R.systemvoltage / 100);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(VC0, DS0, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab //\tab sprintf(bootstr2, "PV%lu,PI%li,CV%lu           ", R.inputvoltage / 100, R.currentin / 10, R.ccvoltage / 100);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(VC0, DS1, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab //\tab sprintf(bootstr2, "B1V%lu,B2V%lu,LI%li                 ", R.primarypower[B1] / 100, R.primarypower[B2] / 100, C.currentload / 10);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(VC0, DS2, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(bootstr2, "%lu, %lu, %lu                  ", timerint_count, clock50, clock50 / timerint_count);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(VC0, DS3, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab wdtdelay(5000);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab idle_loop();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
FAILSAFE = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
c_off = timerint_count;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
alarm_buffer[almctr].bn = CCS.boc;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
alarm_buffer[almctr++].alm_num = 3;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
alarm_codes.alm_flag = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
check_alarm(CCS.boi, " fail1 "); // send alarm codes to terminal if alm_flag is set}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void ansidraw(int mode) // tek 410x/ansi drawing stuff}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putc2(ESC);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putc2('['); // clear screen}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putc2('2');}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putc2('J');}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (SIM_MODE) putrs2USART(SIMULA);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(hello1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(hello0);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void update_lcd_menu(BYTE menu_text_pos)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
strncpypgm2ram(bootstr2, menutext + (5 + (menu_text_pos * 5)), LCD_W);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(dsi, DS0, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(dsi, DS1, NO);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(dsi, DS2, NO);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(dsi, DS3, NO);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
BYTE get_hid(void) // move_mode is global}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static BYTE menu_pos = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (button.B0) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(bootstr2, " menu_pos  %u ", (int) menu_pos);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART("\\x1b[7m Mode Button 1. \\x1b[0m\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab move_mode = !move_mode; // switch modes with button 1 presses}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab button.B0 = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (knob1.movement != STOP) \{ // do we have knob motion}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (checktime(MENU_ACTION, FALSE)) \{ // is knob still moving and not stopped}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab if ((knob1.movement == CW) && (knob1.band > MENU_BAND)) \{ // turning clockwise}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     menu_pos++;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     checktime(MENU_ACTION, TRUE); // reset the movement timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     if (menu_pos >= MAX_MENU) menu_pos = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     sprintf(bootstr2, " menu_pos  %u ", (int) menu_pos);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     putrs2USART("\\x1b[7m Menu Right. \\x1b[0m\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \} else \{    // CCW}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     if (ABSL(knob1.band) > MENU_BAND) \{ // turning counter-clockwise}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \tab menu_pos--;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \tab checktime(MENU_ACTION, TRUE); // reset the movement timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \tab if (menu_pos >= MAX_MENU) menu_pos = MAX_MENU;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \tab sprintf(bootstr2, " menu_pos  %u ", (int) menu_pos);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \tab puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \tab putrs2USART("\\x1b[7m Menu Left. \\x1b[0m\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     checktime(MENU_ACTION, TRUE); // reset the movement timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (move_mode) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LED_0 = ON; // update mode led}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LED_0 = OFF; // update mode led}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return menu_pos;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
BYTE nav_menu(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void hid_menu(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
BYTE menu_pos;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
menu_pos = get_hid();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
update_lcd_menu(menu_pos);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
nav_menu();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void main(void) // Lets Party}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned long test_count = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned char eep_char = NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned char z = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#ifdef\tab __18F8722}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
config_pic(PIC_8722); // configure all controller hardware to the correct settings and ports}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#endif}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2, "********************"); // blank display data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS0, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS1, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS2, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS3, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#ifdef\tab __18F8722}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
start_pic(PIC_8722); // configure external hardware to the correct startup conditions}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#endif}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
wdtdelay(10000); // delay for power related LCD setup glitch}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (BusyXLCD()) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab OpenXLCD(FOUR_BIT & LINES_5X7);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyXLCD());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab wdtdelay(10000); // delay for power related LCD setup glitch}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab OpenXLCD(FOUR_BIT & LINES_5X7);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyXLCD());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab WriteCmdXLCD(0xc); // blink, cursor off}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyXLCD());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab WriteCmdXLCD(0x1); // clear screen}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab wdtdelay(10000);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyXLCD());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_OK = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#ifdef\tab __18F8722}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (STKPTRbits.STKFUL) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab STKPTRbits.STKFUL = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART("\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART("\\x1b[7m Restart from Stack Full. \\x1b[0m\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (STKPTRbits.STKUNF) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab STKPTRbits.STKUNF = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART("\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART("\\x1b[7m Restart from Stack Underflow. \\x1b[0m\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#endif}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (WDT_TO) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART("\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART("\\x1b[7m Restart from Watchdog Timer. \\x1b[0m\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (EEP_ER) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART("\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART("\\x1b[7m Possible EEPROM write error. \\x1b[0m\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
strncpypgm2ram(bootstr2, START1, LCD_W);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS0, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(" FW ");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
strncpypgm2ram(bootstr2, build_time, LCD_W);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS1, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(" ");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
strncpypgm2ram(bootstr2, build_date, LCD_W);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS2, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
strncpypgm2ram(bootstr2, MANDM_VERSION, LCD_W);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART("\\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS3, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
// leds from outputs to ground via resistor.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(" Configure operational data \\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (DIPSW1 == HIGH) \{ // clear battery data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(" Init Controller Data \\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab write_data_eeprom(0, 1, 0, 0); // data, number of data slots, postion, offset from eeprom address 0}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(" Init ADC Cal EEPROM Data \\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab for (z = 0; z < ADC_SLOTS; z++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     write_data_eeprom(ADC_NULL, ADC_SLOTS, z, 8); // data, number of data slots, postion, offset from eeprom address 0}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(" Read Controller eeprom data \\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (read_data_eeprom(0, 0) == CHECKMARK) \{ // load Controller types from EEPROM}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab eep_char = read_data_eeprom(2, 0);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(" Invalid Controller eeprom data \\r\\n"); // init eeprom data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab write_data_eeprom(0, 1, 0, 0); // data, number of data slots, postion, offset from eeprom address 0}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(" Controller eeprom data saved\\r\\n"); // init eeprom data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(" Read ADC eeprom data \\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (read_data_eeprom(0, 8) == CHECKMARK) \{ // load ADC cal data from EEPROM}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab for (z = 0; z < ADC_SLOTS; z++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     adc_cal[z] = read_data_eeprom(10, z);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(" Invalid ADC eeprom data \\r\\n"); // init eeprom data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab for (z = 0; z < ADC_SLOTS; z++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     write_data_eeprom(adc_cal[z], ADC_SLOTS, z, 8);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(" ADC eeprom data saved\\r\\n"); // init eeprom data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (DIPSW6 == HIGH) \{ // failsafe mode}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab fail_safe();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (TRUE); // Don't  continue}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
zero_amploc(); // zero input current sensor}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(" Read ADC data inputs \\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
wdttime(BATRUNF);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_read();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (DIPSW1 == HIGH) \{ // set default hist and SD data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab term_time();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(" Init History Data \\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
voltfps(R.systemvoltage, f1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
voltfps(R.motorvoltage, f2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2, "Sys %sV,Mot %sV         ", f1, f2); // display battery ,PV info}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS0, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2, "DIPSW %i%i%i%i%i%i%i%i           ", DIPSW1, DIPSW2,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     DIPSW3, DIPSW4, DIPSW5, DIPSW6, DIPSW7, DIPSW8);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS1, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
start_delay();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
wdttime(BATRUNF); // read battery and charging system voltages}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_read();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
srand((unsigned int) R.systemvoltage); // set random seed}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/*      Work thread start */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
start_workerthread();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
// test data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (z = 0; z < 3; z++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab motordata[z].type = VIISION_M;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab motordata[z].run = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab motordata[z].cw = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab motordata[z].axis = z;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab motordata[z].free = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab motordata[z].slow = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
z = 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//    LATE = ~z;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SYSTEM_STABLE = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
voltfps(R.systemvoltage, f1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
voltfps(R.motorvoltage, f2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2, "S%sV,M%sV,Q%5li %5li         ", f1, f2, knob1.c, knob2.c);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
LCD_VC_puts(VC0, DS0, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
start_delay();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
wdttime(BATRUNF);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* Loop forever */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (TRUE) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ADC_read();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hid_menu();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//\tab LCD_VC_puts(VC0, DS0, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(bootstr2, "X P%2i S%2i I%3li V%3li               ", motordata[0].pot.scaled_actual, motordata[0].pot.scaled_set, R.current_x, R.pos_x);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(VC0, DS1, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(bootstr2, "Y P%2i S%2i I%3li V%3li               ", motordata[1].pot.scaled_actual, motordata[1].pot.scaled_set, R.current_y, R.pos_y);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(VC0, DS2, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(bootstr2, "Z P%2i S%2i I%3li V%3li               ", motordata[2].pot.scaled_actual, motordata[2].pot.scaled_set, R.current_z, R.pos_z);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LCD_VC_puts(VC0, DS3, YES);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (test_count++ >= 200ul + (knob1.c / 10)+(knob2.c / 10)) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (z == 0b0000010) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab z = 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[0].run = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[0].cw = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motor_control(&motordata[0]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[1].run = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[1].cw = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motor_control(&motordata[1]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[2].run = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[2].cw = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motor_control(&motordata[2]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab putrs2USART(" motor_control test 1 \\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab z = z << 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[0].run = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[0].cw = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motor_control(&motordata[0]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[1].run = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[1].cw = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motor_control(&motordata[1]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[2].run = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[2].cw = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motor_control(&motordata[2]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab putrs2USART(" motor_control test 2 \\r\\n");}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //\tab     LATE = ~z;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     test_count = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     ADC_read();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     voltfps(R.systemvoltage, f1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     voltfps(R.motorvoltage, f2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, "Sys %sV,Mot %sV\\r\\n", f1, f2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, "QEnc C: %5li %5li Last C: %5li %5li Band: %5li %5li\\r\\n", knob1.c, knob2.c, knob1.last_c, knob2.last_c, knob1.band, knob2.band);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, "Current: X%3li Y%3li Z%3li Raw: ADC X%3i Y%3i Z%3i\\r\\n", R.current_x, R.current_y, R.current_z, a10_x, a10_y, a10_z);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, "Position ADC:  X%3li Y%3li Z%3li\\r\\n", R.pos_x, R.pos_y, R.pos_z);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     sprintf(bootstr2, "Pot: Xa%3i Xs%3i Ya%3i Ys%3i Za%3i Zs%3i\\r\\n",}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     motordata[0].pot.scaled_actual, motordata[0].pot.scaled_set,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     motordata[1].pot.scaled_actual, motordata[1].pot.scaled_set,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     motordata[2].pot.scaled_actual, motordata[2].pot.scaled_set);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ClrWdt(); // reset the WDT timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab update_hist();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* High and Low ISR codes, some glue routines */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "mandm_vector.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma\tab tmpdata\tab ISRHtmpdata}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma interrupt tick_handler   nosave=section (".tmpdata")}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void tick_handler(void) // This is the high priority ISR routine}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned char c1, c2;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned char ZAP = FALSE, vc_count = NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned char worker_timer = WORKSEC;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned int hirez_tmp0 = NULL0, hirez_tmp1 = NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static union Timers timer;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static struct QuadEncoderType OldEncoder;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
_asm nop _endasm // asm code to disable compiler optimizations}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     highint_count++; // high int counter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
hirez_tmp0 = (unsigned int) TMR0L;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
hirez_tmp0 += (unsigned int) (TMR0H << SHIFT8); // load high byte in tmp counter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (PIR2bits.EEIF) \{ // EEPROM write complete flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab eeprom_count++; // just keep count}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab MPULED = !MPULED; //  flash led}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIR2bits.EEIF = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (PIE1bits.ADIE && PIR1bits.ADIF) \{ // ADC conversion complete flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab adc_count++; // just keep count}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab //           \tab TIMESIG=R_OFF;         \tab \tab \tab \tab \tab \tab \tab // set output bit to zero}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIR1bits.ADIF = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (INTCONbits.TMR0IF) \{ // check timer0 irq 1 second timer int handler}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab //check for TMR0 overflow}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.TMR0IF = LOW; //clear interrupt flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /*\tab reset the profile counts */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hirez_count[0] = hirez_count[2]; // copy high int counts into save var}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hirez_count[2] = NULL0; // zero high int counts}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hirez_count[1] = hirez_count[3]; // copy low int counts into save var}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hirez_count[3] = NULL0; // zero low int counts}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hirez_count[4] = hirez_count[5]; // copy low int counts into save var}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hirez_count[5] = NULL0; // zero low int counts}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab timer.lt = TIMEROFFSET; // Copy timer value into union}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TMR0H = timer.bt[HIGH]; // Write high byte to Timer0}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TMR0L = timer.bt[LOW]; // Write low byte to Timer0}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hirez_tmp0 = (unsigned int) TMR0L; // reload the profile start var count}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hirez_tmp0 += (unsigned int) (TMR0H << SHIFT8); // load high byte in tmp counter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TIMERFLAG = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (fast_ticks > 10) fast_ticks = real_ticks; // measure low ints per second}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab real_ticks = NULL0; // reset low int counter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIR2bits.TMR3IF = LOW; // clear possible timer3 int flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab timer.lt = TIMER3REG; // Save the 16-bit value in local,  reset fast counter reg to sync}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TMR3H = timer.bt[HIGH]; // Write high byte to Timer3 High byte}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TMR3L = timer.bt[LOW]; // Write low byte to Timer3 Low byte}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab MPULED = !MPULED; //  flash led}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab timerint_count++; // set 1 second clock counter.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab display_count++; // display VC screen  display timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (display_count > DISPSEC) \{ // turn off LCD after DISPSEC seconds}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //\tab \tab \tab \tab \tab D_UPDATE=FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /* cycled LCD display screens */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (worker_timer-- <= 1) \{ // check worker thread go flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     workerflag = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     worker_timer = WORKSEC;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (DISPLAY_MODE) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab vc_count++;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab if (vc_count >= VC_MAX) vc_count = NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab switch (vc_count) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab case VS0:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     dsi = VC0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab case VS1:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     dsi = VC1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab case VS2:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     dsi = VC2;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab default:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     dsi = VC0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
// Serial port communications to the host and terminal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* Get the character received from the USART */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (PIR1bits.RC1IF) \{ // is data from network  port}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab c1rx_int++; // total count}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab rx_tmp++; // count for 1 second}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (RCSTA1bits.OERR) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     RCSTA1bits.CREN = LOW; // clear overrun}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     RCSTA1bits.CREN = HIGH; // re-enable}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /* clear com1 interrupt flag */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab // a read clears the flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab c1 = RCREG1; // read data from port1 and clear PIR1bits.RC1IF}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* User terminal comm routines */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (PIR3bits.RC2IF) \{ // is data from user command/dump terminal port}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /* clear com2 interrupt flag */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab // a read clears the flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab c2_int++;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (RCSTA2bits.OERR) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     RCSTA2bits.CREN = LOW; //      clear overrun}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     RCSTA2bits.CREN = HIGH; // re-enable}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab c2 = RCREG2; // read from host port2 and clear PIR3bits.RC2IF}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab C2RAW = c2; // set terminal input char.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'F') \{ // set charge break flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     FORCEOUT = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == '?') \{ // Set boc to 100% SOC}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     SYS_HELP = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == '*') \{ // Set boc to 100% SOC}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     SYNC_SOC = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == '#') \{ // Display system data on rs-232 terminal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     SYS_DATA = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == '@') \{ // Display system data on rs-232 terminal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     MOD_DATA = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == '!') \{ // Hold monitor processing}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     HOLD_PROC = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == '^') \{ // set AMPLOC sensor zero flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     RESET_ZEROS = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'D') \{ // set ADC gain flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     SET_ADC = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'T') \{ // Tweak charge run parameters}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     TWEAK = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if ((c2 == 'Y') || (c2 == 'y')) \{ // set key flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     YNKEY = YES_M;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if ((c2 == 'N') || (c2 == 'n')) \{ // set key flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     YNKEY = NO_M;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if ((c2 >= 0x30) && (c2 <= 0x39)) \{ // return number}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     KEYNUM = c2;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'V') \{ // turn external charger on}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     c_on = timerint_count;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     alarm_buffer[almctr].bn = CCS.boc;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     alarm_buffer[almctr++].alm_num = 15;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     alarm_codes.alm_flag = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     CCS.alert = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'v') \{ // turn external charger off}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     c_off = timerint_count;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     alarm_buffer[almctr].bn = CCS.boc;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     alarm_buffer[almctr++].alm_num = 14;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     alarm_codes.alm_flag = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     CCS.alert = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'K') \{ // lockup controller in loop force WDT timeout}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     while (TRUE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'P') \{ // SIM "PV voltage on"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     SIM_FLAG = 0b00000001;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'p') \{ // SIM "PV voltage off"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     SIM_FLAG = 0b00000010;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'O') \{ // SIM ""}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     SIM_FLAG = 0b00000100;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'o') \{ // SIM ""}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     SIM_FLAG = 0b00001000;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (c2 == 'Z' || ZAP) \{ // clear command flags}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     ZAP = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* Control button routines */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (INTCONbits.INT0IF) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab DLED_0 = ON;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab button.B0 = 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.INT0IF = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (INTCON3bits.INT1IF) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab DLED_1 = ON;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab button.B1 = 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON3bits.INT1IF = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (INTCON3bits.INT2IF) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab DLED_2 = ON;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab button.B2 = 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON3bits.INT2IF = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (INTCON3bits.INT3IF) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab DLED_3 = ON;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab button.B3 = 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON3bits.INT3IF = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (INTCONbits.RBIF) \{ // PORT B int handler for Qencoder inputs A/B}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab b_read = EXTIO;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab buttonint_count++;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab D_UPDATE = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab display_count = NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LATJ = LATJ | 0b00001111; // clear diag 0..3 leds on PORTJ}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab // modified version from www.piclist.com qenc-dk.htm}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (OldEncoder.OldPortB[0] != (OldEncoder.byTemp[0] = (b_read & QENC1BITS))) \{ // read encoder 1}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     OldEncoder.OldPortB[0] = OldEncoder.byTemp[0];}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (ENC_A1 == OldEncoder.A1) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab if (ENC_B1 == ENC_A1) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     ++knob1.c;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob1.ticks = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob1.cw = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob1.ccw = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob1.movement = CW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     --knob1.c;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob1.ticks = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob1.cw = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob1.ccw = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob1.movement = CCW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab OldEncoder.A1 = ENC_A1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab if (ENC_B1 == ENC_A1) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     --knob1.c;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob1.ticks = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     ++knob1.c;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob1.ticks = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (OldEncoder.OldPortB[1] != (OldEncoder.byTemp[1] = (b_read & QENC2BITS))) \{ // read encoder 2}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     OldEncoder.OldPortB[1] = OldEncoder.byTemp[1];}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (ENC_A2 == OldEncoder.A2) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab if (ENC_B2 == ENC_A2) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     ++knob2.c;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob2.ticks = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob2.cw = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob2.ccw = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob2.movement = CW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     --knob2.c;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob2.ticks = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob2.cw = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob2.ccw = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob2.movement = CCW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab OldEncoder.A2 = ENC_A2;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab if (ENC_B2 == ENC_A2) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     --knob2.c;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob2.ticks = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     ++knob2.c;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab     knob2.ticks = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (knob1.cw) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     LED_4 = 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     LED_5 = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (knob1.ccw) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     LED_4 = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     LED_5 = 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (knob2.cw) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     LED_6 = 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     LED_7 = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (knob2.ccw) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     LED_6 = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     LED_7 = 1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.RBIF = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
// PWM4 ISR routines, ONLY FOR TESTING}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (PIE3bits.TMR4IE && PIR3bits.TMR4IF) \{ // PWM4 post int}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /* clear timer4 interrupt flag */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIR3bits.TMR4IF = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab pwm4int_count++;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
hirez_tmp1 = (unsigned int) TMR0L;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
hirez_tmp1 += (unsigned int) (TMR0H << SHIFT8); // load high byte in tmp counter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
hirez_count[2] += (hirez_tmp1 - hirez_tmp0); // how many counts we were in routines}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma\tab tmpdata}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma\tab tmpdata\tab ISRLtmpdata}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma interruptlow work_handler   nosave=section (".tmpdata")}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void work_handler(void) // This is the low priority ISR routine, the high ISR routine will be called during this code section}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned int hirez_tmp0 = 0, hirez_tmp1 = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static union Timers timer;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static BYTE Hsave;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
_asm nop _endasm // asm code to disable compiler optimizations}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     //FIXME testing ISR}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     hirez_tmp0 = (unsigned int) TMR0L;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
hirez_tmp0 += (unsigned int) (TMR0H << SHIFT8); // load high byte in tmp counter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
lowint_count++; // low int trigger entropy counter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if ((lowint_count % 200) == NULL0) MPULED = !MPULED; //  flash led}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (PIR2bits.TMR3IF) \{ //      Timer3 int handler}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab timer.lt = TIMER3REG; // Save the 16-bit value in local}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TMR3H = timer.bt[HIGH]; // Write high byte to Timer3 High byte}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TMR3L = timer.bt[LOW]; // Write low byte to Timer3 Low byte}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab clock50++;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab real_ticks++;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Hsave = INTCONbits.GIEH; // make a critical section}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.GIEH = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (++knob1.ticks >= KNOBTICKS) \{ // check for stopped encoders}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     knob1.movement = STOP;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     knob1.ticks = KNOBTICKS;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     knob1.last_c = knob1.c; // remember where we stopped at}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     knob1.band = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     DLED_4 = OFF;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     knob1.band = knob1.c - knob1.last_c; // relative movement}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     DLED_4 = ON;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (++knob2.ticks >= KNOBTICKS) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     knob2.movement = STOP;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     knob2.ticks = KNOBTICKS;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     knob2.last_c = knob2.c; // remember where we stopped at}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     knob2.band = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     DLED_5 = OFF;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (knob2.band != (knob2.c - knob2.last_c)) \{   // move pot setting with constant knob movement}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab motordata[knob_to_pot].pot.scaled_set += knob2.band;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     knob2.band = knob2.c - knob2.last_c; // relative movement}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     DLED_5 = ON;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.GIEH = Hsave; // end critical section}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab // constrain set limits}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (motordata[knob_to_pot].pot.scaled_set < 0) motordata[knob_to_pot].pot.scaled_set = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (motordata[knob_to_pot].pot.scaled_set > 1023) motordata[knob_to_pot].pot.scaled_set = 1023;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (almctr > MAXALM - 2) almctr = MAXALM - 2; // check for alarm message overrun.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (workerflag && SYSTEM_STABLE) \{ // WORKSEC time,}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     workerflag = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     worker_count++;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \} // end of worksec functions}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIR2bits.TMR3IF = LOW; // clear int flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
hirez_tmp1 = (unsigned int) TMR0L;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
hirez_tmp1 += (unsigned int) (TMR0H << SHIFT8); // load high byte in tmp counter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
hirez_count[3] += (hirez_tmp1 - hirez_tmp0); // how many counts we were in routines}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#pragma\tab tmpdata}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void idle_loop(void) // idle processe to allow for better isr triggers and background networking}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
idleflag = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ClrWdt();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
idleflag = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void P1wait(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (!TXSTA1bits.TRMT) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void P2wait(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (!TXSTA2bits.TRMT) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* Read analog voltage and current inputs */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "daq.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* switch to chan 10 (shorted to ground) to reset ADC measurement cap to zero before next measurement */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void ADC_zero(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ClrWdt(); // reset the WDT timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SetChanADC(ADC_CH10); // F5 grounded input}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10TCYx(ADC_CHAN_DELAY);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ConvertADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (BusyADC());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void ADC_read(void) // update all voltage/current readings and set load current in 'currentload' variable}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{ // ADC is opened and config'd in main}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned int i; // used for fast and slow sample loops >256}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static long a10_x_t, a10_y_t, a10_z_t;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ClrWdt(); // reset the WDT timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_zero();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SetChanADC(ADC_CH0); // A0 system}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10TCYx(ADC_CHAN_DELAY);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (i = 0; i < ADC_SAMP_F; i++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ConvertADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyADC());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Vin += (unsigned int) ReadADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin /= ADC_SAMP_F;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
vbatol_t = Vin * (ADC0_MV - ADC_NULL + adc_cal[0]); //      voltage correction factor}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
vbatol_t = vbatol_t / 100;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s_crit(HL); // turn off int}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.systemvoltage = vbatol_t;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_zero();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SetChanADC(ADC_CH1); // A1 motor}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10TCYx(ADC_CHAN_DELAY);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (i = 0; i < ADC_SAMP_F; i++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ConvertADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyADC());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Vin += (unsigned int) ReadADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin /= ADC_SAMP_F;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
solar_t = Vin * (ADC1_MV - ADC_NULL + adc_cal[1]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
solar_t = solar_t / 100;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s_crit(HL); // turn off  int}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.motorvoltage = solar_t;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_zero();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SetChanADC(ADC_CH2); // A2 current_x}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10TCYx(ADC_CHAN_DELAY);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (i = 0; i < ADC_SAMP_F; i++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ConvertADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyADC());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Vin += (unsigned int) ReadADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin /= ADC_SAMP_F;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_x = Vin; // raw ADC value}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = Vin - (AMP10_ZERO - ADC_NULL + adc_cal[11]); // set zero NULL0 point}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_x_t = (long) Vin * (ADC2_MV - ADC_NULL + adc_cal[2]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (ABSL(a10_x_t) < AMPZ)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab a10_x_t = 0; // zero bit noise}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_x_t = (long) ((float) a10_x_t / (float) 10.0); // tenths of an amp}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_x_t = (long) ((float) a10_x_t / (float) AMP10_SEN);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_x_t = (long) lp_filter((float) a10_x_t, LP_CURRENT_X, FALSE); // use digital filter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (a10_x == NULL0) a10_x_t = 0; // if sensor disconnected read zero}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_zero();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SetChanADC(ADC_CH3); // A3 current_y}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10TCYx(ADC_CHAN_DELAY);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (i = 0; i < ADC_SAMP_F; i++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ConvertADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyADC());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Vin += (unsigned int) ReadADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin /= ADC_SAMP_F; // }
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_y = Vin; // raw ADC value}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = Vin - (AMP10_ZERO - ADC_NULL + adc_cal[12]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_y_t = (long) Vin * (ADC3_MV - ADC_NULL + adc_cal[3]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (ABSL(a10_y_t) < AMPZ)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab a10_y_t = 0; // zero bit noise}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_y_t = (long) ((float) a10_y_t / 10.0); // tenths of an amp}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_y_t = (long) ((float) a10_y_t / (float) AMP10_SEN);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_y_t = (long) lp_filter((float) a10_y_t, LP_CURRENT_Y, FALSE); //      use digital filter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (a10_y == NULL0) a10_y_t = 0; // if sensor disconnected (zero) read zero current}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_zero();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SetChanADC(ADC_CH4); // A5 curent_z}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10TCYx(ADC_CHAN_DELAY);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (i = 0; i < ADC_SAMP_F; i++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ConvertADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyADC());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Vin += (unsigned int) ReadADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin /= ADC_SAMP_F;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_z = Vin;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = Vin - (AMP10_ZERO - ADC_NULL + adc_cal[13]); // set zero NULL0 point}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_z_t = Vin * (ADC4_MV - ADC_NULL + adc_cal[4]);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (ABSL(a10_z_t) < AMPZ)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab a10_z_t = 0; // zero bit noise}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_z_t = a10_z_t / 10; // tenths of an amp}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_z_t = a10_z_t / AMP10_SEN;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
a10_z_t = (long) lp_filter((float) a10_z_t, LP_CURRENT_Z, FALSE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (a10_z == NULL0) a10_z_t = 0; // if sensor disconnected read zero}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_zero();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SetChanADC(ADC_CH5); // F0 pot x}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10TCYx(ADC_CHAN_DELAY);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (i = 0; i < ADC_SAMP_F; i++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ConvertADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyADC());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Vin += (unsigned int) ReadADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin /= ADC_SAMP_F;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
rawp1 = Vin;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_zero();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SetChanADC(ADC_CH6); // F1 pot y}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10TCYx(ADC_CHAN_DELAY);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (i = 0; i < ADC_SAMP_F; i++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ConvertADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyADC());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Vin += (unsigned int) ReadADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin /= ADC_SAMP_F;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
rawp2 = Vin;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_zero();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SetChanADC(ADC_CH7); // F2 pot z}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10TCYx(ADC_CHAN_DELAY);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (i = 0; i < ADC_SAMP_F; i++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ConvertADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyADC());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Vin += (unsigned int) ReadADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin /= ADC_SAMP_F;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
rawp3 = Vin;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_zero();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
SetChanADC(ADC_CH8); // F3 thermistor channel}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Delay10TCYx(ADC_CHAN_DELAY);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (i = 0; i < ADC_SAMP_F; i++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ConvertADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (BusyADC());}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Vin += (unsigned int) ReadADC();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Vin /= ADC_SAMP_F;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.thermo_batt = Vin;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.thermo_batt -= THERMO_OFF;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.thermo_batt = (long) (((float) R.thermo_batt * (float) THERMO_SEN)*10.0); // tenths of C}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if ((R.thermo_batt > 1100) || (R.thermo_batt <-500)) R.thermo_batt = Temp_ZERO; // check limits 110C/-50C , default to 25C if out of limits}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.current_z = a10_z_t;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.current_y = a10_y_t;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.current_x = a10_x_t;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.pos_x = rawp1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
motordata[XAXIS].pot.scaled_actual = rawp1;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.pos_y = rawp2;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
motordata[YAXIS].pot.scaled_actual = rawp2;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.pos_z = rawp3;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
motordata[ZAXIS].pot.scaled_actual = rawp3;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (SIM_MODE) do_sim(); // set test data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_zero(); // ground ADC input}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ClrWdt(); // reset the WDT timer}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void do_sim(void) // create baseline test data, call in a critical section to protect from ISR updates}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.thermo_batt = 250l;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.systemvoltage = 5000ul;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
R.motorvoltage = 24000ul;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
POWER_UNSTABLE = FALSE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
PRIPOWEROK = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (SIM_FLAG & 0b00000001) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab R.thermo_batt = 250l;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab R.systemvoltage = 5000ul;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab R.motorvoltage = 24000ul;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (SIM_FLAG & 0b00000010) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab R.thermo_batt = 250l;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab R.systemvoltage = 5000ul;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab R.motorvoltage = 24000ul;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (SIM_FLAG & 0b00000100);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (SIM_FLAG & 0b00001000);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void set_adc_gain(void) // set ADC gains}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned char adc_index, z;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_read(); // update all values}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
display_system();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(adcg0);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
YNKEY = WAIT_M;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
KEYNUM = NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while ((YNKEY == WAIT_M) && (KEYNUM == NULL0)) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab idle_loop();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (YNKEY != WAIT_M) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(adcg2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
adc_index = (unsigned char) KEYNUM - (unsigned char) 0x30; // convert to binary number}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (adc_index > ADC_INDEX) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(adcg2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
YNKEY = WAIT_M;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
while (YNKEY == WAIT_M) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab sprintf(bootstr2, "\\n\\r Selected ADC %u for calibration.", adc_index);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab putrs2USART(adcg3);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab YNKEY = WAIT_M;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab C2RAW = NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (C2RAW == NULL0) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     idle_loop();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (YNKEY == NO_M) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     putrs2USART(adcg2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if ((C2RAW == 'Q') || (C2RAW == 'q')) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     putrs2USART(adcg2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     return;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (C2RAW == 'M') adc_cal[adc_index] += 5;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (C2RAW == 'L') adc_cal[adc_index] -= 5;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (C2RAW == 'm') adc_cal[adc_index]++;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (C2RAW == 'l') adc_cal[adc_index]--;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab C2RAW = NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ADC_read(); // update all values}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab display_system();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(adcg4);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (z = 0; z < ADC_SLOTS; z++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab write_data_eeprom(adc_cal[z], ADC_SLOTS, z, 8);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(adcg1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void zero_amploc(void) // set zero current setpoint from ADC reading from a10_x a10_z a10_y, write to EEPROM}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned char z;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(zero0);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
adc_cal[11] = adc_cal[12] = adc_cal[13] = adc_cal[14] = ADC_NULL; // reset offsets to zero (ADC_NULL)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
// read adc data for zero setpoint}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
ADC_read(); // a10_x=adc_[11], a10_z=adc_cal[12], a10_y=adc_cal[13]}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
adc_cal[11] = (unsigned char) (ADC_NULL + (int) ((int) a10_x - (int) AMP10_ZERO));}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2, "\\n\\r Zero offset %i, X current %i, AMP10_ZERO %i", (int) adc_cal[11], a10_x, AMP10_ZERO);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
adc_cal[12] = (unsigned char) (ADC_NULL + (int) ((int) a10_z - (int) AMP10_ZERO));}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2, "\\n\\r Zero offset %i, Y current %i, AMP10_ZERO %i", (int) adc_cal[12], a10_z, AMP10_ZERO);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
adc_cal[13] = (unsigned char) (ADC_NULL + (int) ((int) a10_y - (int) AMP10_ZERO));}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
sprintf(bootstr2, "\\n\\r Zero offset %i, Z current %i, AMP10_ZERO %i", (int) adc_cal[13], a10_y, AMP10_ZERO);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
puts2USART(bootstr2);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
for (z = 0; z < ADC_SLOTS; z++) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab write_data_eeprom(adc_cal[z], ADC_SLOTS, z, 8);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
putrs2USART(zero1);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* External device power control */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "power.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
typedef struct motortype \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
BYTE type, run, cw, axis, free, slow;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} volatile motortype;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
 }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
*/}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
int motor_control(motortype *motor)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (motor == NULL0) return (-1); // bad pointer, return error}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (motor->type == VIISION_M) \{ // X/Y motors}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab switch (motor->axis) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case XAXIS:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (motor->cw) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_cw(XD_BIT, TRUE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_cw(XD_BIT, FALSE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (motor->run) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_power(XM_BIT, TRUE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_power(XM_BIT, FALSE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case YAXIS:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (motor->cw) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_cw(YD_BIT, TRUE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_cw(YD_BIT, FALSE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (motor->run) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_power(YM_BIT, TRUE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_power(YM_BIT, FALSE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab case ZAXIS:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (motor->cw) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_cw(ZD_BIT, TRUE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_cw(ZD_BIT, FALSE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (motor->run) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_power(ZM_BIT, TRUE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab emotor_power(ZM_BIT, FALSE);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab default:}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     return (-2); // axis out of range}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     break;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (motor->type == E220E500_M) \{ // X/Y motors}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (motor->type == VHE_M) \{ // X/Y motors}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
BYTE emotor_power(BYTE motor_bit, BYTE on) // select the motor power by bit position}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (on) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ERELAYS = ERELAYS&motor_bit; // and the bit low}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ERELAYS = ERELAYS | (~motor_bit); // or the bit high inverted}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
        }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
wdttime(RELAYRUNF); // wait for .5 seconds.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return ERELAYS;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
BYTE emotor_cw(BYTE motor_bit, BYTE cw) // select the motor direction by bit position}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (cw) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ERELAYS = ERELAYS | (~motor_bit); // or the bit high inverted, CW is on the NC contacts}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} else \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ERELAYS = ERELAYS&motor_bit; // and the bit low}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
        }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
wdttime(RELAYRUNF); // wait for .5 seconds.}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return ERELAYS;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "hwconf.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void config_pic(unsigned int hw_config)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static char z;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (hw_config == 8722u) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab _asm nop _endasm // asm code to disable compiler optimizations}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (RCONbits.TO == (unsigned char) LOW) WDT_TO = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (EECON1bits.WRERR && (EECON1bits.EEPGD == (unsigned char) LOW)) EEP_ER = TRUE;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /* Configure all PORT  pins  */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ADCON1 = 0x03; // adc [0..11] enable}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISAbits.TRISA4 = LOW; // output}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISAbits.TRISA0 = HIGH; // an0\tab systemvoltage}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISAbits.TRISA1 = HIGH; // an1 motorvoltage}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISAbits.TRISA2 = HIGH; // an2 current_x}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISAbits.TRISA3 = HIGH; // an3 current_y}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISAbits.TRISA5 = HIGH; // an4 current_z}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISB = 0x00; // all outputs first}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LATB = 0xFF;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISBbits.TRISB0 = HIGH; //}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISBbits.TRISB1 = HIGH; //}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISBbits.TRISB2 = HIGH; //}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISBbits.TRISB3 = HIGH; //}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISBbits.TRISB4 = HIGH; // quad1 a}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISBbits.TRISB5 = HIGH; // quad1 b}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISBbits.TRISB6 = HIGH; // quad2 a}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISBbits.TRISB7 = HIGH; // quad2 b}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISC = 0x00;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LATC = 0xff;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISD = 0xff; // dip switch inputs}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISE = LOW; // relay output 1}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LATE = 0xff;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISFbits.TRISF0 = HIGH; // an5 pot_x}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISFbits.TRISF1 = HIGH; // an6 pot_y}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISFbits.TRISF2 = HIGH; // an7 pot_z}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISFbits.TRISF3 = HIGH; // an8}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISFbits.TRISF4 = HIGH; // an9}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISFbits.TRISF5 = HIGH; // an10}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISFbits.TRISF6 = HIGH; // an11}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LATGbits.LATG3 = LOW; // output latch to zero}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISG = 0; // tx2/rx2, pwm channels}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LATG = 0xff;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISGbits.TRISG4 = LOW; // output for high current load relay}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISGbits.TRISG3 = LOW; // output diversion pwm signal}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISH = 0; // mpuled and LCD}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LATH = 0xff;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TRISJ = 0; // control relays}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab LATJ = 0xff;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab  * Open the USART configured as}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab  * 9N1, 38400,38400 baud, in send and receive INT mode}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab  */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab BAUDCON1 |= 0x08; // 16 bit mode speed register}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab BAUDCON2 |= 0x08; // 16 bit mode speed register}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /*}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab  * Open the USART configured as}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab  * 8N1, 38400,38400 baud, receive INT mode}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab  */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Open2USART(USART_TX_INT_OFF & USART_RX_INT_ON & USART_ASYNCH_MODE & USART_EIGHT_BIT & USART_CONT_RX & USART_BRGH_LOW, 64); // 40mhz osc HS         38.4 kbaud, 16bit divider}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SPBRGH2 = 0x00;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SPBRG2 = 0x40;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab while (DataRdy2USART()) \{ // dump 2 rx data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     z = Read2USART();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \};}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab ansidraw(TRUE); // Clear and home screen}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab solarup_delay = NULL;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab OpenADC(ADC_FOSC_RC & ADC_RIGHT_JUST & ADC_20_TAD, ADC_CH0 & ADC_REF_VDD_VSS & ADC_INT_OFF, ADC_12ANA); // open ADC channel for current and voltage readings}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIE1bits.ADIE = LOW; // the ADC interrupt enable bit}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab IPR1bits.ADIP = HIGH; // ADC use high pri}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab OpenTimer0(TIMER_INT_ON & T0_16BIT & T0_SOURCE_INT & T0_PS_1_256);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab OpenTimer3(TIMER_INT_ON & T1_16BIT_RW & T1_SOURCE_INT & T1_PS_1_8 &}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \tab T1_OSC1EN_OFF & T1_SYNC_EXT_OFF);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PR4 = 0xFF;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab OpenTimer4(TIMER_INT_OFF & T4_PS_1_16 & T4_POST_1_16); // no int, only for pwm}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab OpenPWM4(0xFF);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab T3CONbits.T3CCP1 = 1; // Bits for Timer4 for PWM}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab T3CONbits.T3CCP2 = 1; // same}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIE3bits.TMR4IE = LOW; // TIMER4 int enable bit}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab SetDCPWM4(1); // 0.1% power}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.RBIE = HIGH; // enable PORTB interrupts 1=enable}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON2bits.RBIP = HIGH; // Set the PORTB interrupt-on-change as a high priority interrupt}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.INT0IE = HIGH; //}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON2bits.INTEDG0 = LOW; // falling edge}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.INT0IF = LOW; // clean possible flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON3bits.INT1IE = HIGH; //}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON2bits.INTEDG1 = LOW; // falling edge}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON3bits.INT1IF = LOW; // clean possible flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON3bits.INT2IE = HIGH; //}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON2bits.INTEDG2 = LOW; // falling edge}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON3bits.INT2IF = LOW; // clean possible flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON3bits.INT3IE = HIGH; //}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON2bits.INTEDG3 = LOW; // falling edge}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON3bits.INT3IF = LOW; // clean possible flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab z = PORTB; // dummy read to clear possible b irq}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.RBIF = LOW; // reset B flag}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCON2bits.RBPU = LOW; // enable input pullup. 0=on}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab WriteTimer0(TIMEROFFSET); //      start timer0 at 1 second ticks}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab WriteTimer3(TIMER3REG); //  low int worker thread timer  about 20hz                                                           //}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /*      work int thread setup */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIE2bits.TMR3IE = HIGH; // enable int}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab IPR2bits.TMR3IP = LOW; // make it low level}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /* EEPROM write int enable */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIE2bits.EEIE = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /* Enable interrupt priority */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab RCONbits.IPEN = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIR1 = LOW; // clear int flags}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIR2 = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab PIR3 = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /* Make receive interrupt high priority */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab IPR1bits.RC1IP = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab IPR1bits.TX1IP = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab IPR3bits.RC2IP = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab /* Enable all high/low priority interrupts */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.GIEH = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.GIEL = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void start_pic(unsigned int hw_config)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (hw_config == 8722u) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab IORELAYS = 0xff; // set control relays to off at powerup/reset}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void start_workerthread(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
T2CONbits.TMR2ON = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
/* Switch on and off ISR enables */}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
#include "crit.h"}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile void s_crit(unsigned char mode) // Start critical section of code that needs protection for the ISR}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{ // remember old high and low int bits so they can be restored correctly}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned char H_tmp = 0; // keep track of time spent in critical section}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
_asm nop _endasm // asm code to disable compiler optimizations}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     LCRIT[CRITC] = INTCONbits.GIEL;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (mode & 0x2) INTCONbits.GIEL = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
HCRIT[CRITC] = INTCONbits.GIEH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (mode & 0x1) INTCONbits.GIEH = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
critc_count++; // track counts}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
CRITC++; // array nest level index}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (CRITC > critc_level) critc_level = CRITC; // track nesting checking}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if ((unsigned char) CRITC == (unsigned char) CRITC1) \{ // only update at the first level}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab H_tmp = INTCONbits.GIEH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.GIEH = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hirez_0.bt[LOW] = TMR0L;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab hirez_0.bt[HIGH] = TMR0H; // load high byte in tmp counter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if ((unsigned char) hirez_0.lt == (unsigned char) LOW) hirez_0.lt = 0xffff; // counter overflow}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.GIEH = H_tmp;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile void e_crit(void) // End section of code that need protection from ISR}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
static unsigned char H_tmp = 0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
_asm nop _endasm // asm code to disable compiler optimizations}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (CRITC) \{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab CRITC--;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab if (!CRITC) \{ // only update at the first level}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     H_tmp = INTCONbits.GIEH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     INTCONbits.GIEH = LOW;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     hirez_1.bt[LOW] = TMR0L;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     hirez_1.bt[HIGH] = TMR0H; // load high byte in tmp counter}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (!hirez_1.lt) hirez_1.lt = 0xffff; // counter overflow}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     if (hirez_1.lt >= hirez_0.lt) hirez_count[5] += (hirez_1.lt - hirez_0.lt); // how many counts we were in routines}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab     INTCONbits.GIEH = H_tmp;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab \}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.GIEH = HCRIT[CRITC];}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.GIEL = LCRIT[CRITC];}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\} else \{ // default to all interrupts on with overflow}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.GIEH = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab INTCONbits.GIEL = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab TXREG2 = '*'; // restore with no save, output to terminal port}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
volatile void clear_crit(void)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
CRITC = NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
hirez_count[5] = NULL0;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
INTCONbits.GIEH = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
INTCONbits.GIEL = HIGH;}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
void write_data_eeprom(unsigned char data, unsigned char count, unsigned int addr, unsigned int offset)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
//  eeprom data array: 0=CHECKMARK checksum, 1=length of array 2=start of array data, array offset, writes must be protected from ISR}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
if (addr == NULL0) \{ // only write header when on addr 0}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Busy_eep();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Write_b_eep(0 + offset, CHECKMARK); //      write checksum  at byte 0 of the offset}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Busy_eep();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Busy_eep();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Write_b_eep(1 + offset, count); // length of data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab Busy_eep();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\tab e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
s_crit(HL);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Busy_eep();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Write_b_eep(addr + 2 + offset, data); //  data}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Busy_eep();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
e_crit();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
unsigned char read_data_eeprom(unsigned int addr, unsigned int offset)}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\{}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
Busy_eep();}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\lang1033\loch\f5
    }{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
return Read_b_eep(addr + offset);}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
\}}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par \pard\plain \s0\nowidctlpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\cf0\kerning1\hich\af6\langfe2052\dbch\af7\afs24\alang1081\loch\f3\fs24\lang1033{\hich\af5\langfe1033\dbch\af5\alang1033\rtlch \ltrch\loch\lang1033\loch\f5
}
\par }